<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Bi-Directional Translator</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet" />
  <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;600&display=swap" rel="stylesheet" />
  <style>
    /* Existing styles remain unchanged except for additions below */
    body { font-family: 'Montserrat', sans-serif; background: #f8f9fa; padding: 20px; }
    #translatorCard { background: #fff; border-radius: 15px; box-shadow: 0 4px 12px rgba(0,0,0,0.1); overflow: hidden; max-width: 600px; margin: auto; transition: all 0.3s ease; position: relative; }
    .card-header { background: #5563DE; color: #fff; padding: 1.5rem; text-align: center; position: relative; }
    .card-body { padding: 1.5rem; }
    .form-label { font-weight: 600; }
    .form-control { border-radius: 8px; font-size: 1rem; margin-top: 0.25rem; }
    textarea { resize: vertical; }
    .nonCompact { display: block; }
    #compactModeBtn { position: absolute; top: 10px; right: 10px; z-index: 100; }
    .compact { width: 100vw; height: 100vh; border-radius: 0; max-width: none; background: #fff; box-shadow: none; }
    .compact .card-header { padding: 0.5rem; text-align: center; }
    .compact .card-body { padding: 0; height: calc(100vh - 50px); }
    .compact .nonCompact { display: none; }
    .compact #textAreasWrapper { display: flex; flex-direction: column; height: 100%; }
    .compact .textAreaContainer { flex: 1; position: relative; overflow: hidden; }
    .compact #inputTextContainer { border-top: 1px solid #ccc; }
    .compact textarea { opacity: 0; pointer-events: none; position: absolute; width: 100%; height: 100%; }
    .compact .placeholder { position: absolute; top: 0; left: 0; width: 100%; height: 100%; background: rgba(255,255,255,0.7); display: flex; justify-content: center; align-items: center; font-size: 1.2rem; color: #666; pointer-events: none; transition: opacity 0.3s ease; }

    /* New CSS Rules */
    #translatorCard:not(.compact) .placeholder {
      display: none;
    }
    .compact #inputText {
      opacity: 1;
      pointer-events: auto;
      border: none;
      padding: 10px;
      box-sizing: border-box;
    }
    .compact #outputText {
      opacity: 0;
      pointer-events: none;
    }
  </style>
</head>
<body>
  <div class="container">
    <div class="card" id="translatorCard">
      <div class="card-header">
        <h2 class="mb-0 nonCompact">Bi-Directional Translator</h2>
        <div class="nonCompact mb-2">
          <div class="btn-group" role="group" aria-label="Translation Direction">
            <input type="radio" class="btn-check" name="direction" id="dirGreekToEng" value="greekToEnglish" autocomplete="off" checked>
            <label class="btn btn-outline-light" for="dirGreekToEng">Greek → English</label>
            <input type="radio" class="btn-check" name="direction" id="dirEngToGreek" value="englishToGreek" autocomplete="off">
            <label class="btn btn-outline-light" for="dirEngToGreek">English → Greek</label>
          </div>
          <div class="form-check form-switch d-inline-block ms-3">
            <input class="form-check-input" type="checkbox" id="clipboardToggle">
            <label class="form-check-label" for="clipboardToggle">Auto Clipboard</label>
          </div>
        </div>
        <button id="compactModeBtn" class="btn btn-outline-light btn-sm">Compact Mode</button>
        <button id="copyBtn" class="btn btn-outline-light btn-sm ms-2">Copy Output</button>
      </div>
      <div class="card-body">
        <div id="textAreasWrapper">
          <div class="mb-3 textAreaContainer" id="outputTextContainer">
            <label for="outputText" class="form-label nonCompact">Translated Text</label>
            <textarea class="form-control nonCompact" id="outputText" rows="6" placeholder="Translated text will appear here..." readonly></textarea>
            <div class="placeholder">Translated Text</div>
          </div>
          <div class="mb-3 textAreaContainer" id="inputTextContainer">
            <label for="inputText" class="form-label nonCompact">Input Text</label>
            <textarea class="form-control nonCompact" id="inputText" rows="6" placeholder="Type or paste your text here..."></textarea>
            <div class="placeholder">Input Text</div>
          </div>
        </div>
      </div>
    </div>
  </div>

  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
  <script>
    // [Existing translation mappings and functions unchanged]
    const mappingGreekToEnglish = { /* ... */ };
    for (let key in mappingGreekToEnglish) { /* ... */ }
    const mappingEnglishToGreek = { /* ... */ };
    function translateGreekToEnglish(input) { /* ... */ }
    function translateEnglishToGreek(input) { /* ... */ }
    function updateTranslation(text) { /* ... */ }
    document.getElementById("inputText").addEventListener("input", function () { /* ... */ });
    let clipboardAutoScanEnabled = false; /* ... */
    function scanClipboard() { /* ... */ }
    const compactModeBtn = document.getElementById("compactModeBtn"); /* ... */
    compactModeBtn.addEventListener("click", function () { /* ... */ });

    // New Copy Button Functionality
    document.getElementById("copyBtn").addEventListener("click", function () {
      const text = document.getElementById("outputText").value;
      navigator.clipboard.writeText(text).then(() => {
        alert("Copied to clipboard!");
      }).catch((err) => {
        console.error("Error copying to clipboard:", err);
      });
    });
  </script>
  <script>(function(){/* Existing iframe script unchanged */})();</script>
</body>
</html>
